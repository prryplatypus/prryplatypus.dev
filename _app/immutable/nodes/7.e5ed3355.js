import{S as R,i as U,s as V,y as g,a as x,k as y,z as d,c as w,l as B,m as C,h as u,n as A,A as v,b as p,g as b,d as E,B as h,G,M as T,H as P,q as D,r as I}from"../chunks/index.93dd95e1.js";import{F as W,g as q,L as z,I as J,a as N}from"../chunks/Label.d48b2bf2.js";import{p as K}from"../chunks/stores.1d15e3c3.js";import{P as Q}from"../chunks/PageHead.f30ff5e5.js";import{B as H}from"../chunks/Button.c75afa70.js";const X=!0,Y=X,Z=!1,pe=Object.freeze(Object.defineProperty({__proto__:null,ssr:Z},Symbol.toStringTag,{value:"Module"}));function ee(l){let n,e,s;return e=new N({props:{type:"text",name:"name",placeholder:"Name",value:l[0]?l[0].name:"",required:!0}}),{c(){n=D(`Exam name
            `),g(e.$$.fragment)},l(t){n=I(t,`Exam name
            `),d(e.$$.fragment,t)},m(t,o){p(t,n,o),v(e,t,o),s=!0},p(t,o){const a={};o&1&&(a.value=t[0]?t[0].name:""),e.$set(a)},i(t){s||(b(e.$$.fragment,t),s=!0)},o(t){E(e.$$.fragment,t),s=!1},d(t){t&&u(n),h(e,t)}}}function te(l){let n,e,s;return e=new N({props:{type:"number",name:"duration",placeholder:"45",min:"0",step:"1",value:l[0]?l[0].duration:"",required:!0}}),{c(){n=D(`Exam duration (minutes)
            `),g(e.$$.fragment)},l(t){n=I(t,`Exam duration (minutes)
            `),d(e.$$.fragment,t)},m(t,o){p(t,n,o),v(e,t,o),s=!0},p(t,o){const a={};o&1&&(a.value=t[0]?t[0].duration:""),e.$set(a)},i(t){s||(b(e.$$.fragment,t),s=!0)},o(t){E(e.$$.fragment,t),s=!1},d(t){t&&u(n),h(e,t)}}}function ne(l){let n;return{c(){n=D("Delete")},l(e){n=I(e,"Delete")},m(e,s){p(e,n,s)},d(e){e&&u(n)}}}function ae(l){let n;return{c(){n=D("Cancel")},l(e){n=I(e,"Cancel")},m(e,s){p(e,n,s)},d(e){e&&u(n)}}}function se(l){let n;return{c(){n=D("Save")},l(e){n=I(e,"Save")},m(e,s){p(e,n,s)},d(e){e&&u(n)}}}function re(l){let n,e,s,t,o,a,f,$,S,c,_,i,k;return n=new z({props:{$$slots:{default:[ee]},$$scope:{ctx:l}}}),s=new z({props:{$$slots:{default:[te]},$$scope:{ctx:l}}}),a=new H({props:{type:"button",$$slots:{default:[ne]},$$scope:{ctx:l}}}),a.$on("click",l[2]),c=new J({props:{href:"/timer",$$slots:{default:[ae]},$$scope:{ctx:l}}}),i=new H({props:{type:"submit",$$slots:{default:[se]},$$scope:{ctx:l}}}),i.$on("click",l[1]),{c(){g(n.$$.fragment),e=x(),g(s.$$.fragment),t=x(),o=y("div"),g(a.$$.fragment),f=x(),$=y("div"),S=x(),g(c.$$.fragment),_=x(),g(i.$$.fragment),this.h()},l(r){d(n.$$.fragment,r),e=w(r),d(s.$$.fragment,r),t=w(r),o=B(r,"DIV",{class:!0});var m=C(o);d(a.$$.fragment,m),f=w(m),$=B(m,"DIV",{class:!0}),C($).forEach(u),S=w(m),d(c.$$.fragment,m),_=w(m),d(i.$$.fragment,m),m.forEach(u),this.h()},h(){A($,"class","spacer svelte-10n8v6n"),A(o,"class","buttons svelte-10n8v6n")},m(r,m){v(n,r,m),p(r,e,m),v(s,r,m),p(r,t,m),p(r,o,m),v(a,o,null),P(o,f),P(o,$),P(o,S),v(c,o,null),P(o,_),v(i,o,null),k=!0},p(r,m){const F={};m&257&&(F.$$scope={dirty:m,ctx:r}),n.$set(F);const L={};m&257&&(L.$$scope={dirty:m,ctx:r}),s.$set(L);const M={};m&256&&(M.$$scope={dirty:m,ctx:r}),a.$set(M);const O={};m&256&&(O.$$scope={dirty:m,ctx:r}),c.$set(O);const j={};m&256&&(j.$$scope={dirty:m,ctx:r}),i.$set(j)},i(r){k||(b(n.$$.fragment,r),b(s.$$.fragment,r),b(a.$$.fragment,r),b(c.$$.fragment,r),b(i.$$.fragment,r),k=!0)},o(r){E(n.$$.fragment,r),E(s.$$.fragment,r),E(a.$$.fragment,r),E(c.$$.fragment,r),E(i.$$.fragment,r),k=!1},d(r){h(n,r),r&&u(e),h(s,r),r&&u(t),r&&u(o),h(a),h(c),h(i)}}}function oe(l){let n,e,s,t,o;return n=new Q({props:{title:"Exams timer - Edit exam",description:"Edit an exam"}}),t=new W({props:{title:"Edit exam",$$slots:{default:[re]},$$scope:{ctx:l}}}),t.$on("submit",l[1]),{c(){g(n.$$.fragment),e=x(),s=y("main"),g(t.$$.fragment),this.h()},l(a){d(n.$$.fragment,a),e=w(a),s=B(a,"MAIN",{class:!0});var f=C(s);d(t.$$.fragment,f),f.forEach(u),this.h()},h(){A(s,"class","svelte-10n8v6n")},m(a,f){v(n,a,f),p(a,e,f),p(a,s,f),v(t,s,null),o=!0},p(a,[f]){const $={};f&257&&($.$$scope={dirty:f,ctx:a}),t.$set($)},i(a){o||(b(n.$$.fragment,a),b(t.$$.fragment,a),o=!0)},o(a){E(n.$$.fragment,a),E(t.$$.fragment,a),o=!1},d(a){h(n,a),a&&u(e),a&&u(s),h(t)}}}function me(l,n,e){let s;G(l,K,_=>e(3,s=_));const{getExam:t,updateExam:o,deleteExam:a}=T("exam_state"),f=s.url.searchParams.get("id");f===null&&q("/timer");const $=t(f);return $===null&&Y&&q("/timer"),[$,_=>{const i=new FormData(_.target);e(0,$.name=i.get("name"),$),e(0,$.duration=parseInt(i.get("duration")),$),o($),q("/timer")},_=>{_.preventDefault(),confirm("Are you sure you want to delete this exam?")&&(a($),q("/timer"))}]}class ce extends R{constructor(n){super(),U(this,n,me,oe,V,{})}}export{ce as component,pe as universal};
