import{S as R,i as T,s as U,y as g,a as x,k as q,z as d,c as w,l as B,m as C,h as u,n as M,A as v,b as p,g as b,d as E,B as h,G as V,M as G,H as y,q as D,r as k}from"../chunks/index.93dd95e1.js";import{F as W,g as P,L as z,I as J,a as N}from"../chunks/Label.689dbfd8.js";import{p as K}from"../chunks/stores.4c8d5e11.js";import{P as Q}from"../chunks/PageHead.185976fa.js";import{B as H}from"../chunks/Button.c75afa70.js";const X=!0,Y=X,Z=!1,pe=Object.freeze(Object.defineProperty({__proto__:null,ssr:Z},Symbol.toStringTag,{value:"Module"}));function ee(o){let n,e,s;return e=new N({props:{type:"text",name:"name",placeholder:"Name",value:o[0]?o[0].name:"",required:!0}}),{c(){n=D(`Exam name
            `),g(e.$$.fragment)},l(t){n=k(t,`Exam name
            `),d(e.$$.fragment,t)},m(t,l){p(t,n,l),v(e,t,l),s=!0},p(t,l){const a={};l&1&&(a.value=t[0]?t[0].name:""),e.$set(a)},i(t){s||(b(e.$$.fragment,t),s=!0)},o(t){E(e.$$.fragment,t),s=!1},d(t){t&&u(n),h(e,t)}}}function te(o){let n,e,s;return e=new N({props:{type:"number",name:"duration",placeholder:"45",min:"0",step:"1",value:o[0]?o[0].duration:"",required:!0}}),{c(){n=D(`Exam duration (minutes)
            `),g(e.$$.fragment)},l(t){n=k(t,`Exam duration (minutes)
            `),d(e.$$.fragment,t)},m(t,l){p(t,n,l),v(e,t,l),s=!0},p(t,l){const a={};l&1&&(a.value=t[0]?t[0].duration:""),e.$set(a)},i(t){s||(b(e.$$.fragment,t),s=!0)},o(t){E(e.$$.fragment,t),s=!1},d(t){t&&u(n),h(e,t)}}}function ne(o){let n;return{c(){n=D("Delete")},l(e){n=k(e,"Delete")},m(e,s){p(e,n,s)},d(e){e&&u(n)}}}function ae(o){let n;return{c(){n=D("Cancel")},l(e){n=k(e,"Cancel")},m(e,s){p(e,n,s)},d(e){e&&u(n)}}}function se(o){let n;return{c(){n=D("Save")},l(e){n=k(e,"Save")},m(e,s){p(e,n,s)},d(e){e&&u(n)}}}function re(o){let n,e,s,t,l,a,f,$,I,c,_,i,S;return n=new z({props:{$$slots:{default:[ee]},$$scope:{ctx:o}}}),s=new z({props:{$$slots:{default:[te]},$$scope:{ctx:o}}}),a=new H({props:{type:"button",$$slots:{default:[ne]},$$scope:{ctx:o}}}),a.$on("click",o[2]),c=new J({props:{href:"/timer",$$slots:{default:[ae]},$$scope:{ctx:o}}}),i=new H({props:{type:"submit",$$slots:{default:[se]},$$scope:{ctx:o}}}),i.$on("click",o[1]),{c(){g(n.$$.fragment),e=x(),g(s.$$.fragment),t=x(),l=q("div"),g(a.$$.fragment),f=x(),$=q("div"),I=x(),g(c.$$.fragment),_=x(),g(i.$$.fragment),this.h()},l(r){d(n.$$.fragment,r),e=w(r),d(s.$$.fragment,r),t=w(r),l=B(r,"DIV",{class:!0});var m=C(l);d(a.$$.fragment,m),f=w(m),$=B(m,"DIV",{class:!0}),C($).forEach(u),I=w(m),d(c.$$.fragment,m),_=w(m),d(i.$$.fragment,m),m.forEach(u),this.h()},h(){M($,"class","spacer svelte-10n8v6n"),M(l,"class","buttons svelte-10n8v6n")},m(r,m){v(n,r,m),p(r,e,m),v(s,r,m),p(r,t,m),p(r,l,m),v(a,l,null),y(l,f),y(l,$),y(l,I),v(c,l,null),y(l,_),v(i,l,null),S=!0},p(r,m){const O={};m&257&&(O.$$scope={dirty:m,ctx:r}),n.$set(O);const A={};m&257&&(A.$$scope={dirty:m,ctx:r}),s.$set(A);const F={};m&256&&(F.$$scope={dirty:m,ctx:r}),a.$set(F);const L={};m&256&&(L.$$scope={dirty:m,ctx:r}),c.$set(L);const j={};m&256&&(j.$$scope={dirty:m,ctx:r}),i.$set(j)},i(r){S||(b(n.$$.fragment,r),b(s.$$.fragment,r),b(a.$$.fragment,r),b(c.$$.fragment,r),b(i.$$.fragment,r),S=!0)},o(r){E(n.$$.fragment,r),E(s.$$.fragment,r),E(a.$$.fragment,r),E(c.$$.fragment,r),E(i.$$.fragment,r),S=!1},d(r){h(n,r),r&&u(e),h(s,r),r&&u(t),r&&u(l),h(a),h(c),h(i)}}}function le(o){let n,e,s,t,l;return n=new Q({props:{title:"Exams timer - Edit exam",description:"Edit an exam",keywords:"Exams,Timer,Overlapping,Multiple"}}),t=new W({props:{title:"Edit exam",$$slots:{default:[re]},$$scope:{ctx:o}}}),t.$on("submit",o[1]),{c(){g(n.$$.fragment),e=x(),s=q("main"),g(t.$$.fragment),this.h()},l(a){d(n.$$.fragment,a),e=w(a),s=B(a,"MAIN",{class:!0});var f=C(s);d(t.$$.fragment,f),f.forEach(u),this.h()},h(){M(s,"class","svelte-10n8v6n")},m(a,f){v(n,a,f),p(a,e,f),p(a,s,f),v(t,s,null),l=!0},p(a,[f]){const $={};f&257&&($.$$scope={dirty:f,ctx:a}),t.$set($)},i(a){l||(b(n.$$.fragment,a),b(t.$$.fragment,a),l=!0)},o(a){E(n.$$.fragment,a),E(t.$$.fragment,a),l=!1},d(a){h(n,a),a&&u(e),a&&u(s),h(t)}}}function me(o,n,e){let s;V(o,K,_=>e(3,s=_));const{getExam:t,updateExam:l,deleteExam:a}=G("exam_state"),f=s.url.searchParams.get("id");f===null&&P("/timer");const $=t(f);return $===null&&Y&&P("/timer"),[$,_=>{const i=new FormData(_.target);e(0,$.name=i.get("name"),$),e(0,$.duration=parseInt(i.get("duration")),$),l($),P("/timer")},_=>{_.preventDefault(),confirm("Are you sure you want to delete this exam?")&&(a($),P("/timer"))}]}class ce extends R{constructor(n){super(),T(this,n,me,le,U,{})}}export{ce as component,pe as universal};
