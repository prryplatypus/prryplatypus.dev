import{S as T,i as U,s as V,k as B,a as x,y as d,J as G,l as C,h as u,c as w,m as O,z as g,n as I,G as D,b as c,A as h,g as v,d as E,B as b,I as J,O as W,q as S,r as k}from"../chunks/index.9b364cbc.js";import{F as H,g as A,L as z,I as R}from"../chunks/Label.63b6b1dc.js";import{p as K}from"../chunks/stores.38d4c3a7.js";import{I as Q}from"../chunks/InternalLink.c3c01a59.js";import{B as N}from"../chunks/Button.349ce5de.js";const X=!0,Y=X,Z=!1,ce=Object.freeze(Object.defineProperty({__proto__:null,ssr:Z},Symbol.toStringTag,{value:"Module"}));function ee(l){let n,e,a;return e=new R({props:{type:"text",name:"name",placeholder:"Name",value:l[0]?l[0].name:"",required:!0}}),{c(){n=S(`Exam name
            `),d(e.$$.fragment)},l(t){n=k(t,`Exam name
            `),g(e.$$.fragment,t)},m(t,o){c(t,n,o),h(e,t,o),a=!0},p(t,o){const r={};o&1&&(r.value=t[0]?t[0].name:""),e.$set(r)},i(t){a||(v(e.$$.fragment,t),a=!0)},o(t){E(e.$$.fragment,t),a=!1},d(t){t&&u(n),b(e,t)}}}function te(l){let n,e,a;return e=new R({props:{type:"number",name:"duration",placeholder:"45",min:"0",step:"1",value:l[0]?l[0].duration:"",required:!0}}),{c(){n=S(`Exam duration (minutes)
            `),d(e.$$.fragment)},l(t){n=k(t,`Exam duration (minutes)
            `),g(e.$$.fragment,t)},m(t,o){c(t,n,o),h(e,t,o),a=!0},p(t,o){const r={};o&1&&(r.value=t[0]?t[0].duration:""),e.$set(r)},i(t){a||(v(e.$$.fragment,t),a=!0)},o(t){E(e.$$.fragment,t),a=!1},d(t){t&&u(n),b(e,t)}}}function ne(l){let n;return{c(){n=S("Delete")},l(e){n=k(e,"Delete")},m(e,a){c(e,n,a)},d(e){e&&u(n)}}}function ae(l){let n;return{c(){n=S("Cancel")},l(e){n=k(e,"Cancel")},m(e,a){c(e,n,a)},d(e){e&&u(n)}}}function se(l){let n;return{c(){n=S("Save")},l(e){n=k(e,"Save")},m(e,a){c(e,n,a)},d(e){e&&u(n)}}}function re(l){let n,e,a,t,o,r,f,$,q,p,_,i,y;return n=new z({props:{$$slots:{default:[ee]},$$scope:{ctx:l}}}),a=new z({props:{$$slots:{default:[te]},$$scope:{ctx:l}}}),r=new N({props:{type:"button",$$slots:{default:[ne]},$$scope:{ctx:l}}}),r.$on("click",l[2]),p=new Q({props:{href:"/timer",$$slots:{default:[ae]},$$scope:{ctx:l}}}),i=new N({props:{type:"submit",$$slots:{default:[se]},$$scope:{ctx:l}}}),i.$on("click",l[1]),{c(){d(n.$$.fragment),e=x(),d(a.$$.fragment),t=x(),o=B("div"),d(r.$$.fragment),f=x(),$=B("div"),q=x(),d(p.$$.fragment),_=x(),d(i.$$.fragment),this.h()},l(s){g(n.$$.fragment,s),e=w(s),g(a.$$.fragment,s),t=w(s),o=C(s,"DIV",{class:!0});var m=O(o);g(r.$$.fragment,m),f=w(m),$=C(m,"DIV",{class:!0}),O($).forEach(u),q=w(m),g(p.$$.fragment,m),_=w(m),g(i.$$.fragment,m),m.forEach(u),this.h()},h(){I($,"class","spacer svelte-10n8v6n"),I(o,"class","buttons svelte-10n8v6n")},m(s,m){h(n,s,m),c(s,e,m),h(a,s,m),c(s,t,m),c(s,o,m),h(r,o,null),D(o,f),D(o,$),D(o,q),h(p,o,null),D(o,_),h(i,o,null),y=!0},p(s,m){const F={};m&257&&(F.$$scope={dirty:m,ctx:s}),n.$set(F);const L={};m&257&&(L.$$scope={dirty:m,ctx:s}),a.$set(L);const M={};m&256&&(M.$$scope={dirty:m,ctx:s}),r.$set(M);const P={};m&256&&(P.$$scope={dirty:m,ctx:s}),p.$set(P);const j={};m&256&&(j.$$scope={dirty:m,ctx:s}),i.$set(j)},i(s){y||(v(n.$$.fragment,s),v(a.$$.fragment,s),v(r.$$.fragment,s),v(p.$$.fragment,s),v(i.$$.fragment,s),y=!0)},o(s){E(n.$$.fragment,s),E(a.$$.fragment,s),E(r.$$.fragment,s),E(p.$$.fragment,s),E(i.$$.fragment,s),y=!1},d(s){b(n,s),s&&u(e),b(a,s),s&&u(t),s&&u(o),b(r),b(p),b(i)}}}function oe(l){let n,e,a,t,o;return t=new H({props:{title:"Edit exam",$$slots:{default:[re]},$$scope:{ctx:l}}}),t.$on("submit",l[1]),{c(){n=B("meta"),e=x(),a=B("main"),d(t.$$.fragment),this.h()},l(r){const f=G("svelte-1n45h53",document.head);n=C(f,"META",{name:!0,content:!0}),f.forEach(u),e=w(r),a=C(r,"MAIN",{class:!0});var $=O(a);g(t.$$.fragment,$),$.forEach(u),this.h()},h(){document.title="Exams timer - Edit exam",I(n,"name","description"),I(n,"content","Exams timer - Edit exam"),I(a,"class","svelte-10n8v6n")},m(r,f){D(document.head,n),c(r,e,f),c(r,a,f),h(t,a,null),o=!0},p(r,[f]){const $={};f&257&&($.$$scope={dirty:f,ctx:r}),t.$set($)},i(r){o||(v(t.$$.fragment,r),o=!0)},o(r){E(t.$$.fragment,r),o=!1},d(r){u(n),r&&u(e),r&&u(a),b(t)}}}function me(l,n,e){let a;J(l,K,_=>e(3,a=_));const{getExam:t,updateExam:o,deleteExam:r}=W("exam_state");a.url.searchParams.get("id")===null&&A("/timer");const $=t(a.params.exam_id);return $===null&&Y&&A("/timer"),[$,_=>{const i=new FormData(_.target);e(0,$.name=i.get("name"),$),e(0,$.duration=parseInt(i.get("duration")),$),o($),A("/timer")},_=>{_.preventDefault(),confirm("Are you sure you want to delete this exam?")&&(r($),A("/timer"))}]}class pe extends T{constructor(n){super(),U(this,n,me,oe,V,{})}}export{pe as component,ce as universal};
