import{S as T,i as U,s as V,y as g,a as x,k as B,G,z as d,h as u,c as w,l as C,m as M,n as O,A as v,b as p,g as h,d as b,B as E,H,O as W,I as q,q as D,r as I}from"../chunks/index.c21ce127.js";import{F as J,g as y,L as z,I as R}from"../chunks/Label.a5d0e822.js";import{p as K}from"../chunks/stores.e5238183.js";import{I as Q}from"../chunks/InternalLink.c38355e2.js";import{M as X}from"../chunks/MetaTags.aba56d88.js";import{B as N}from"../chunks/Button.d9b2ef35.js";const Y=!0,Z=Y,ee=!1,_e=Object.freeze(Object.defineProperty({__proto__:null,ssr:ee},Symbol.toStringTag,{value:"Module"}));function te(l){let n,e,a;return e=new R({props:{type:"text",name:"name",placeholder:"Name",value:l[0]?l[0].name:"",required:!0}}),{c(){n=D(`Exam name
            `),g(e.$$.fragment)},l(t){n=I(t,`Exam name
            `),d(e.$$.fragment,t)},m(t,o){p(t,n,o),v(e,t,o),a=!0},p(t,o){const r={};o&1&&(r.value=t[0]?t[0].name:""),e.$set(r)},i(t){a||(h(e.$$.fragment,t),a=!0)},o(t){b(e.$$.fragment,t),a=!1},d(t){t&&u(n),E(e,t)}}}function ne(l){let n,e,a;return e=new R({props:{type:"number",name:"duration",placeholder:"45",min:"0",step:"1",value:l[0]?l[0].duration:"",required:!0}}),{c(){n=D(`Exam duration (minutes)
            `),g(e.$$.fragment)},l(t){n=I(t,`Exam duration (minutes)
            `),d(e.$$.fragment,t)},m(t,o){p(t,n,o),v(e,t,o),a=!0},p(t,o){const r={};o&1&&(r.value=t[0]?t[0].duration:""),e.$set(r)},i(t){a||(h(e.$$.fragment,t),a=!0)},o(t){b(e.$$.fragment,t),a=!1},d(t){t&&u(n),E(e,t)}}}function ae(l){let n;return{c(){n=D("Delete")},l(e){n=I(e,"Delete")},m(e,a){p(e,n,a)},d(e){e&&u(n)}}}function se(l){let n;return{c(){n=D("Cancel")},l(e){n=I(e,"Cancel")},m(e,a){p(e,n,a)},d(e){e&&u(n)}}}function re(l){let n;return{c(){n=D("Save")},l(e){n=I(e,"Save")},m(e,a){p(e,n,a)},d(e){e&&u(n)}}}function oe(l){let n,e,a,t,o,r,f,$,S,c,_,i,k;return n=new z({props:{$$slots:{default:[te]},$$scope:{ctx:l}}}),a=new z({props:{$$slots:{default:[ne]},$$scope:{ctx:l}}}),r=new N({props:{type:"button",$$slots:{default:[ae]},$$scope:{ctx:l}}}),r.$on("click",l[2]),c=new Q({props:{href:"/timer",$$slots:{default:[se]},$$scope:{ctx:l}}}),i=new N({props:{type:"submit",$$slots:{default:[re]},$$scope:{ctx:l}}}),i.$on("click",l[1]),{c(){g(n.$$.fragment),e=x(),g(a.$$.fragment),t=x(),o=B("div"),g(r.$$.fragment),f=x(),$=B("div"),S=x(),g(c.$$.fragment),_=x(),g(i.$$.fragment),this.h()},l(s){d(n.$$.fragment,s),e=w(s),d(a.$$.fragment,s),t=w(s),o=C(s,"DIV",{class:!0});var m=M(o);d(r.$$.fragment,m),f=w(m),$=C(m,"DIV",{class:!0}),M($).forEach(u),S=w(m),d(c.$$.fragment,m),_=w(m),d(i.$$.fragment,m),m.forEach(u),this.h()},h(){O($,"class","spacer svelte-10n8v6n"),O(o,"class","buttons svelte-10n8v6n")},m(s,m){v(n,s,m),p(s,e,m),v(a,s,m),p(s,t,m),p(s,o,m),v(r,o,null),q(o,f),q(o,$),q(o,S),v(c,o,null),q(o,_),v(i,o,null),k=!0},p(s,m){const A={};m&257&&(A.$$scope={dirty:m,ctx:s}),n.$set(A);const F={};m&257&&(F.$$scope={dirty:m,ctx:s}),a.$set(F);const L={};m&256&&(L.$$scope={dirty:m,ctx:s}),r.$set(L);const P={};m&256&&(P.$$scope={dirty:m,ctx:s}),c.$set(P);const j={};m&256&&(j.$$scope={dirty:m,ctx:s}),i.$set(j)},i(s){k||(h(n.$$.fragment,s),h(a.$$.fragment,s),h(r.$$.fragment,s),h(c.$$.fragment,s),h(i.$$.fragment,s),k=!0)},o(s){b(n.$$.fragment,s),b(a.$$.fragment,s),b(r.$$.fragment,s),b(c.$$.fragment,s),b(i.$$.fragment,s),k=!1},d(s){E(n,s),s&&u(e),E(a,s),s&&u(t),s&&u(o),E(r),E(c),E(i)}}}function me(l){let n,e,a,t,o;return n=new X({props:{title:"Exams timer - Edit exam",description:"Edit an exam"}}),t=new J({props:{title:"Edit exam",$$slots:{default:[oe]},$$scope:{ctx:l}}}),t.$on("submit",l[1]),{c(){g(n.$$.fragment),e=x(),a=B("main"),g(t.$$.fragment),this.h()},l(r){const f=G("svelte-1rq94fi",document.head);d(n.$$.fragment,f),f.forEach(u),e=w(r),a=C(r,"MAIN",{class:!0});var $=M(a);d(t.$$.fragment,$),$.forEach(u),this.h()},h(){O(a,"class","svelte-10n8v6n")},m(r,f){v(n,document.head,null),p(r,e,f),p(r,a,f),v(t,a,null),o=!0},p(r,[f]){const $={};f&257&&($.$$scope={dirty:f,ctx:r}),t.$set($)},i(r){o||(h(n.$$.fragment,r),h(t.$$.fragment,r),o=!0)},o(r){b(n.$$.fragment,r),b(t.$$.fragment,r),o=!1},d(r){E(n),r&&u(e),r&&u(a),E(t)}}}function le(l,n,e){let a;H(l,K,_=>e(3,a=_));const{getExam:t,updateExam:o,deleteExam:r}=W("exam_state"),f=a.url.searchParams.get("id");f===null&&y("/timer");const $=t(f);return $===null&&Z&&y("/timer"),[$,_=>{const i=new FormData(_.target);e(0,$.name=i.get("name"),$),e(0,$.duration=parseInt(i.get("duration")),$),o($),y("/timer")},_=>{_.preventDefault(),confirm("Are you sure you want to delete this exam?")&&(r($),y("/timer"))}]}class ge extends T{constructor(n){super(),U(this,n,le,me,V,{})}}export{ge as component,_e as universal};
