import{S as F,i as H,s as V,k as E,q as S,a as B,l as k,m as w,r as T,h as _,c as M,n as p,b as d,H as x,u as z,I as P,g,v as J,f as K,d as b,K as L,y,z as C,A as D,B as I,L as R,J as Q}from"../chunks/index.93dd95e1.js";/* empty css                       */import{B as j}from"../chunks/Button.c75afa70.js";import{e as G}from"../chunks/state.3931be82.js";import{P as U}from"../chunks/PageHead.185976fa.js";function W(i){let e;return{c(){e=S("​")},l(a){e=T(a,"​")},m(a,t){d(a,e,t)},p:P,d(a){a&&_(e)}}}function X(i){let e=i[1].format(new Date(i[0].start_date.getTime()+i[0].duration*6e4))+"",a;return{c(){a=S(e)},l(t){a=T(t,e)},m(t,n){d(t,a,n)},p(t,n){n&1&&e!==(e=t[1].format(new Date(t[0].start_date.getTime()+t[0].duration*6e4))+"")&&z(a,e)},d(t){t&&_(a)}}}function Y(i){let e,a,t,n=i[0].name+"",c,r,o,l;function $(u,s){return u[0].start_date?X:W}let h=$(i),f=h(i);return{c(){e=E("div"),a=E("a"),t=E("h2"),c=S(n),o=B(),l=E("div"),f.c(),this.h()},l(u){e=k(u,"DIV",{class:!0});var s=w(e);a=k(s,"A",{href:!0,class:!0});var m=w(a);t=k(m,"H2",{class:!0});var v=w(t);c=T(v,n),v.forEach(_),m.forEach(_),o=M(s),l=k(s,"DIV",{class:!0});var A=w(l);f.l(A),A.forEach(_),s.forEach(_),this.h()},h(){p(t,"class","exam-name svelte-p21402"),p(a,"href",r="/timer/edit?id="+i[0].id),p(a,"class","svelte-p21402"),p(l,"class","exam-time svelte-p21402"),p(e,"class","exam-card svelte-p21402")},m(u,s){d(u,e,s),x(e,a),x(a,t),x(t,c),x(e,o),x(e,l),f.m(l,null)},p(u,[s]){s&1&&n!==(n=u[0].name+"")&&z(c,n),s&1&&r!==(r="/timer/edit?id="+u[0].id)&&p(a,"href",r),h===(h=$(u))&&f?f.p(u,s):(f.d(1),f=h(u),f&&(f.c(),f.m(l,null)))},i:P,o:P,d(u){u&&_(e),f.d()}}}function Z(i,e,a){let{exam:t}=e;const n=new Intl.DateTimeFormat(void 0,{hour:"2-digit",minute:"2-digit",second:"2-digit",hourCycle:"h23"});return i.$$set=c=>{"exam"in c&&a(0,t=c.exam)},[t,n]}class ee extends F{constructor(e){super(),H(this,e,Z,Y,V,{exam:0})}}function N(i,e,a){const t=i.slice();return t[2]=e[a],t}function O(i){let e,a;return e=new ee({props:{exam:i[2]}}),{c(){y(e.$$.fragment)},l(t){C(e.$$.fragment,t)},m(t,n){D(e,t,n),a=!0},p(t,n){const c={};n&2&&(c.exam=t[2]),e.$set(c)},i(t){a||(g(e.$$.fragment,t),a=!0)},o(t){b(e.$$.fragment,t),a=!1},d(t){I(e,t)}}}function te(i){let e,a,t=i[1],n=[];for(let r=0;r<t.length;r+=1)n[r]=O(N(i,t,r));const c=r=>b(n[r],1,1,()=>{n[r]=null});return{c(){e=E("main");for(let r=0;r<n.length;r+=1)n[r].c();this.h()},l(r){e=k(r,"MAIN",{class:!0});var o=w(e);for(let l=0;l<n.length;l+=1)n[l].l(o);o.forEach(_),this.h()},h(){p(e,"class","svelte-6pidmj")},m(r,o){d(r,e,o);for(let l=0;l<n.length;l+=1)n[l]&&n[l].m(e,null);a=!0},p(r,[o]){if(o&2){t=r[1];let l;for(l=0;l<t.length;l+=1){const $=N(r,t,l);n[l]?(n[l].p($,o),g(n[l],1)):(n[l]=O($),n[l].c(),g(n[l],1),n[l].m(e,null))}for(J(),l=t.length;l<n.length;l+=1)c(l);K()}},i(r){if(!a){for(let o=0;o<t.length;o+=1)g(n[o]);a=!0}},o(r){n=n.filter(Boolean);for(let o=0;o<n.length;o+=1)b(n[o]);a=!1},d(r){r&&_(e),L(n,r)}}}function ae(i,e,a){let t,n=P,c=()=>(n(),n=R(r,o=>a(1,t=o)),r);i.$$.on_destroy.push(()=>n());let{exams:r}=e;return c(),i.$$set=o=>{"exams"in o&&c(a(0,r=o.exams))},[r,t]}class ne extends F{constructor(e){super(),H(this,e,ae,te,V,{exams:0})}}function se(i){let e;return{c(){e=S("Clear expired")},l(a){e=T(a,"Clear expired")},m(a,t){d(a,e,t)},d(a){a&&_(e)}}}function re(i){let e;return{c(){e=S("Start pending")},l(a){e=T(a,"Start pending")},m(a,t){d(a,e,t)},d(a){a&&_(e)}}}function le(i){let e;return{c(){e=S("+")},l(a){e=T(a,"+")},m(a,t){d(a,e,t)},d(a){a&&_(e)}}}function ie(i){let e,a,t,n,c,r,o,l,$,h,f,u;return e=new U({props:{title:"Exams timer - Time multiple exams at once",description:"Manage multiple overlapping exams at once",keywords:"Exams,Timer,Overlapping,Multiple"}}),n=new j({props:{$$slots:{default:[se]},$$scope:{ctx:i}}}),n.$on("click",i[1]),r=new j({props:{$$slots:{default:[re]},$$scope:{ctx:i}}}),r.$on("click",i[2]),$=new j({props:{type:"submit",$$slots:{default:[le]},$$scope:{ctx:i}}}),f=new ne({props:{exams:i[0]}}),{c(){y(e.$$.fragment),a=B(),t=E("nav"),y(n.$$.fragment),c=B(),y(r.$$.fragment),o=B(),l=E("form"),y($.$$.fragment),h=B(),y(f.$$.fragment),this.h()},l(s){C(e.$$.fragment,s),a=M(s),t=k(s,"NAV",{class:!0});var m=w(t);C(n.$$.fragment,m),c=M(m),C(r.$$.fragment,m),o=M(m),l=k(m,"FORM",{action:!0,class:!0});var v=w(l);C($.$$.fragment,v),v.forEach(_),m.forEach(_),h=M(s),C(f.$$.fragment,s),this.h()},h(){p(l,"action","/timer/create"),p(l,"class","svelte-1u3j4hx"),p(t,"class","svelte-1u3j4hx")},m(s,m){D(e,s,m),d(s,a,m),d(s,t,m),D(n,t,null),x(t,c),D(r,t,null),x(t,o),x(t,l),D($,l,null),d(s,h,m),D(f,s,m),u=!0},p(s,[m]){const v={};m&8&&(v.$$scope={dirty:m,ctx:s}),n.$set(v);const A={};m&8&&(A.$$scope={dirty:m,ctx:s}),r.$set(A);const q={};m&8&&(q.$$scope={dirty:m,ctx:s}),$.$set(q)},i(s){u||(g(e.$$.fragment,s),g(n.$$.fragment,s),g(r.$$.fragment,s),g($.$$.fragment,s),g(f.$$.fragment,s),u=!0)},o(s){b(e.$$.fragment,s),b(n.$$.fragment,s),b(r.$$.fragment,s),b($.$$.fragment,s),b(f.$$.fragment,s),u=!1},d(s){I(e,s),s&&_(a),s&&_(t),I(n),I(r),I($),s&&_(h),I(f,s)}}}function oe(i){Q("exam_state",G);const{exams_store:e,clearExpiredExams:a,startPendingExams:t}=G;return[e,a,t]}class $e extends F{constructor(e){super(),H(this,e,oe,ie,V,{})}}export{$e as component};
