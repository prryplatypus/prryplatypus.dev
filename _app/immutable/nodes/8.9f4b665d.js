import{S as T,i as U,s as V,y as g,a as x,k as B,z as d,c as w,l as C,m as M,h as u,n as A,A as v,b as p,g as b,d as E,B as h,G,N as H,H as q,q as D,r as I}from"../chunks/index.bf96ed41.js";import{F as W,g as y,L as j,I as R}from"../chunks/Label.5d20559c.js";import{p as J}from"../chunks/stores.477f2813.js";import{I as K}from"../chunks/InternalLink.c2d0dcf6.js";import{M as Q}from"../chunks/MetaTags.a36e03d9.js";import{B as z}from"../chunks/Button.eb53bdf5.js";const X=!0,Y=X,Z=!1,ce=Object.freeze(Object.defineProperty({__proto__:null,ssr:Z},Symbol.toStringTag,{value:"Module"}));function ee(l){let n,e,s;return e=new R({props:{type:"text",name:"name",placeholder:"Name",value:l[0]?l[0].name:"",required:!0}}),{c(){n=D(`Exam name
            `),g(e.$$.fragment)},l(t){n=I(t,`Exam name
            `),d(e.$$.fragment,t)},m(t,m){p(t,n,m),v(e,t,m),s=!0},p(t,m){const a={};m&1&&(a.value=t[0]?t[0].name:""),e.$set(a)},i(t){s||(b(e.$$.fragment,t),s=!0)},o(t){E(e.$$.fragment,t),s=!1},d(t){t&&u(n),h(e,t)}}}function te(l){let n,e,s;return e=new R({props:{type:"number",name:"duration",placeholder:"45",min:"0",step:"1",value:l[0]?l[0].duration:"",required:!0}}),{c(){n=D(`Exam duration (minutes)
            `),g(e.$$.fragment)},l(t){n=I(t,`Exam duration (minutes)
            `),d(e.$$.fragment,t)},m(t,m){p(t,n,m),v(e,t,m),s=!0},p(t,m){const a={};m&1&&(a.value=t[0]?t[0].duration:""),e.$set(a)},i(t){s||(b(e.$$.fragment,t),s=!0)},o(t){E(e.$$.fragment,t),s=!1},d(t){t&&u(n),h(e,t)}}}function ne(l){let n;return{c(){n=D("Delete")},l(e){n=I(e,"Delete")},m(e,s){p(e,n,s)},d(e){e&&u(n)}}}function ae(l){let n;return{c(){n=D("Cancel")},l(e){n=I(e,"Cancel")},m(e,s){p(e,n,s)},d(e){e&&u(n)}}}function se(l){let n;return{c(){n=D("Save")},l(e){n=I(e,"Save")},m(e,s){p(e,n,s)},d(e){e&&u(n)}}}function re(l){let n,e,s,t,m,a,f,$,S,c,_,i,k;return n=new j({props:{$$slots:{default:[ee]},$$scope:{ctx:l}}}),s=new j({props:{$$slots:{default:[te]},$$scope:{ctx:l}}}),a=new z({props:{type:"button",$$slots:{default:[ne]},$$scope:{ctx:l}}}),a.$on("click",l[2]),c=new K({props:{href:"/timer",$$slots:{default:[ae]},$$scope:{ctx:l}}}),i=new z({props:{type:"submit",$$slots:{default:[se]},$$scope:{ctx:l}}}),i.$on("click",l[1]),{c(){g(n.$$.fragment),e=x(),g(s.$$.fragment),t=x(),m=B("div"),g(a.$$.fragment),f=x(),$=B("div"),S=x(),g(c.$$.fragment),_=x(),g(i.$$.fragment),this.h()},l(r){d(n.$$.fragment,r),e=w(r),d(s.$$.fragment,r),t=w(r),m=C(r,"DIV",{class:!0});var o=M(m);d(a.$$.fragment,o),f=w(o),$=C(o,"DIV",{class:!0}),M($).forEach(u),S=w(o),d(c.$$.fragment,o),_=w(o),d(i.$$.fragment,o),o.forEach(u),this.h()},h(){A($,"class","spacer svelte-10n8v6n"),A(m,"class","buttons svelte-10n8v6n")},m(r,o){v(n,r,o),p(r,e,o),v(s,r,o),p(r,t,o),p(r,m,o),v(a,m,null),q(m,f),q(m,$),q(m,S),v(c,m,null),q(m,_),v(i,m,null),k=!0},p(r,o){const F={};o&257&&(F.$$scope={dirty:o,ctx:r}),n.$set(F);const L={};o&257&&(L.$$scope={dirty:o,ctx:r}),s.$set(L);const N={};o&256&&(N.$$scope={dirty:o,ctx:r}),a.$set(N);const O={};o&256&&(O.$$scope={dirty:o,ctx:r}),c.$set(O);const P={};o&256&&(P.$$scope={dirty:o,ctx:r}),i.$set(P)},i(r){k||(b(n.$$.fragment,r),b(s.$$.fragment,r),b(a.$$.fragment,r),b(c.$$.fragment,r),b(i.$$.fragment,r),k=!0)},o(r){E(n.$$.fragment,r),E(s.$$.fragment,r),E(a.$$.fragment,r),E(c.$$.fragment,r),E(i.$$.fragment,r),k=!1},d(r){h(n,r),r&&u(e),h(s,r),r&&u(t),r&&u(m),h(a),h(c),h(i)}}}function me(l){let n,e,s,t,m;return n=new Q({props:{title:"Exams timer - Edit exam",description:"Edit an exam"}}),t=new W({props:{title:"Edit exam",$$slots:{default:[re]},$$scope:{ctx:l}}}),t.$on("submit",l[1]),{c(){g(n.$$.fragment),e=x(),s=B("main"),g(t.$$.fragment),this.h()},l(a){d(n.$$.fragment,a),e=w(a),s=C(a,"MAIN",{class:!0});var f=M(s);d(t.$$.fragment,f),f.forEach(u),this.h()},h(){A(s,"class","svelte-10n8v6n")},m(a,f){v(n,a,f),p(a,e,f),p(a,s,f),v(t,s,null),m=!0},p(a,[f]){const $={};f&257&&($.$$scope={dirty:f,ctx:a}),t.$set($)},i(a){m||(b(n.$$.fragment,a),b(t.$$.fragment,a),m=!0)},o(a){E(n.$$.fragment,a),E(t.$$.fragment,a),m=!1},d(a){h(n,a),a&&u(e),a&&u(s),h(t)}}}function oe(l,n,e){let s;G(l,J,_=>e(3,s=_));const{getExam:t,updateExam:m,deleteExam:a}=H("exam_state"),f=s.url.searchParams.get("id");f===null&&y("/timer");const $=t(f);return $===null&&Y&&y("/timer"),[$,_=>{const i=new FormData(_.target);e(0,$.name=i.get("name"),$),e(0,$.duration=parseInt(i.get("duration")),$),m($),y("/timer")},_=>{_.preventDefault(),confirm("Are you sure you want to delete this exam?")&&(a($),y("/timer"))}]}class _e extends T{constructor(n){super(),U(this,n,oe,me,V,{})}}export{_e as component,ce as universal};
